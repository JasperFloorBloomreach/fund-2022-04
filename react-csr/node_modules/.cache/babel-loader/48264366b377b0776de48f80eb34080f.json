{"ast":null,"code":"var _jsxFileName = \"/home/jfloor/tmp/fund-2022-04-04/fundamentals-archetype/react-csr/src/components/ProductList.tsx\";\n\n/*\n * Copyright 2020 Bloomreach B.V. (http://www.bloomreach.com)\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport React from 'react';\nimport { Link } from 'react-router-dom';\nimport { BrManageContentButton, BrPageContext } from '@bloomreach/react-sdk';\nexport function ProductList(props) {\n  var _pagination$items;\n\n  const {\n    pagination: paginationRef\n  } = props.component.getModels();\n  const pagination = paginationRef && props.page.getContent(paginationRef);\n\n  if (!pagination) {\n    return null;\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 9\n    }\n  }, (_pagination$items = pagination.items) === null || _pagination$items === void 0 ? void 0 : _pagination$items.map((reference, key) => /*#__PURE__*/React.createElement(ProductListItem, {\n    key: key,\n    item: props.page.getContent(reference),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 56\n    }\n  })), /*#__PURE__*/React.createElement(ProductListPagination, Object.assign({}, pagination, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 13\n    }\n  })));\n}\nexport function ProductListItem(_ref) {\n  let {\n    item\n  } = _ref;\n  const {\n    introduction,\n    title,\n    price\n  } = item.getData();\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"card mb-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(BrManageContentButton, {\n    content: item,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"card-body\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 13\n    }\n  }, title && /*#__PURE__*/React.createElement(\"h2\", {\n    className: \"card-title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 21\n    }\n  }, title, \" - \", price), introduction && /*#__PURE__*/React.createElement(\"p\", {\n    className: \"card-text\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 34\n    }\n  }, introduction)));\n}\nexport function ProductListPagination(props) {\n  var _props$previous, _props$previous$links, _props$next, _props$next$links;\n\n  const page = React.useContext(BrPageContext);\n\n  if (!page) {\n    return null;\n  }\n\n  return /*#__PURE__*/React.createElement(\"nav\", {\n    \"aria-label\": \"Product List Pagination\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"ul\", {\n    className: \"pagination\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"li\", {\n    className: `page-item ${props.previous ? '' : 'disabled'}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: page.getUrl(`${props === null || props === void 0 ? void 0 : (_props$previous = props.previous) === null || _props$previous === void 0 ? void 0 : (_props$previous$links = _props$previous.links) === null || _props$previous$links === void 0 ? void 0 : _props$previous$links.site}`),\n    replace: true,\n    className: \"page-link\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 22\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    \"aria-hidden\": \"true\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 25\n    }\n  }, \"\\xAB\"), /*#__PURE__*/React.createElement(\"span\", {\n    className: \"sr-only\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 25\n    }\n  }, \"Previous\"))), props.pages.map((links, number) => {\n    var _links$site;\n\n    return /*#__PURE__*/React.createElement(\"li\", {\n      key: number,\n      className: `page-item ${number + 1 === props.current.number ? 'disabled' : ''}`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Link, {\n      to: page.getUrl(`${links === null || links === void 0 ? void 0 : (_links$site = links.site) === null || _links$site === void 0 ? void 0 : _links$site.href}`),\n      className: \"page-link\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 25\n      }\n    }, number + 1));\n  }), /*#__PURE__*/React.createElement(\"li\", {\n    className: `page-item ${props.next ? '' : 'disabled'}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: page.getUrl(`${props === null || props === void 0 ? void 0 : (_props$next = props.next) === null || _props$next === void 0 ? void 0 : (_props$next$links = _props$next.links) === null || _props$next$links === void 0 ? void 0 : _props$next$links.site}`),\n    className: \"page-link\",\n    replace: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    \"aria-hidden\": \"true\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 25\n    }\n  }, \"\\xBB\"), /*#__PURE__*/React.createElement(\"span\", {\n    className: \"sr-only\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 25\n    }\n  }, \"Next\")))));\n}","map":{"version":3,"sources":["/home/jfloor/tmp/fund-2022-04-04/fundamentals-archetype/react-csr/src/components/ProductList.tsx"],"names":["React","Link","BrManageContentButton","BrPageContext","ProductList","props","pagination","paginationRef","component","getModels","page","getContent","items","map","reference","key","ProductListItem","item","introduction","title","price","getData","ProductListPagination","useContext","previous","getUrl","links","site","pages","number","current","href","next"],"mappings":"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","sourcesContent":["/*\n * Copyright 2020 Bloomreach B.V. (http://www.bloomreach.com)\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport React from 'react';\nimport {Link} from 'react-router-dom';\nimport {Content} from '@bloomreach/spa-sdk';\nimport {BrManageContentButton, BrPageContext, BrProps} from '@bloomreach/react-sdk';\nimport {Pagination, PaginationModels, Product} from \"./declarations\";\n\nexport function ProductList(props: BrProps) {\n    const {pagination: paginationRef} = props.component.getModels<PaginationModels>();\n    const pagination = paginationRef && props.page.getContent<Pagination>(paginationRef);\n\n    if (!pagination) {\n        return null;\n    }\n\n    return (\n        <div>\n            {pagination.items?.map((reference, key) => <ProductListItem key={key}\n                                                                        item={props.page.getContent(reference)!}/>)}\n            <ProductListPagination {...pagination} />\n        </div>\n    );\n}\n\ninterface ProductListItemProps {\n    item: Content;\n}\n\nexport function ProductListItem({item}: ProductListItemProps) {\n    const {introduction, title, price} = item.getData<Product>();\n\n    return (\n        <div className=\"card mb-3\">\n            <BrManageContentButton content={item}/>\n            <div className=\"card-body\">\n                {title && (\n                    <h2 className=\"card-title\">\n                        {title} - {price}\n                    </h2>\n                )}\n                {introduction && <p className=\"card-text\">{introduction}</p>}\n            </div>\n        </div>\n    );\n}\n\nexport function ProductListPagination(props: Pagination) {\n    const page = React.useContext(BrPageContext);\n\n    if (!page) {\n        return null;\n    }\n\n    return (\n        <nav aria-label=\"Product List Pagination\">\n            <ul className=\"pagination\">\n                <li className={`page-item ${props.previous ? '' : 'disabled'}`}>\n                     <Link to={page.getUrl(`${props?.previous?.links?.site}`)} replace className=\"page-link\">\n                        <span aria-hidden=\"true\">&laquo;</span>\n                        <span className=\"sr-only\">Previous</span>\n                    </Link>\n                </li>\n\n                {props.pages.map((links, number) => (\n                    <li key={number} className={`page-item ${number + 1 === props.current.number ? 'disabled' : ''}`}>\n                        <Link to={page.getUrl(`${links?.site?.href}`)} className=\"page-link\">{number + 1}</Link>\n                    </li>\n                ))}\n\n                <li className={`page-item ${props.next ? '' : 'disabled'}`}>\n                    <Link to={page.getUrl(`${props?.next?.links?.site}`)} className=\"page-link\" replace>\n                        <span aria-hidden=\"true\">&raquo;</span>\n                        <span className=\"sr-only\">Next</span>\n                    </Link>\n                </li>\n            </ul>\n        </nav>\n    );\n}\n"]},"metadata":{},"sourceType":"module"}